<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="@{master}">
<head>
<title>Produtos</title>
</head>

<body>
	<div class="container" layout:fragment="content">
		<div class="starter-template">
			<h2>Produtos</h2>
			<a class="btn btn-primary pull-right" th:href="@{/produtos/incluir}">Adicionar</a>
		</div>

		<div th:if="${not #lists.isEmpty(produtos)}">

			<table class="table table-striped table-bordered table-hover">

				<tr>
					<th>Serviço</th>
					<th>Material</th>
					<th>Valor</th>
					<th>Prazo</th>
					<th>Editar</th>
					<th>Situação</th>
				</tr>
				<tr th:each="produto : ${produtos}">
					<td th:text="${produto.servico.getDescricao()}"></td>
					<td th:text="${produto.material.getDescricao()}"></td>
					<td th:text="${produto.valor}"></td>
					<td th:text="${produto.prazo} + ' ' + dias"></td>
					<td><a th:href="${'/produtos/editar/' + produto.idProduto}">Editar</a></td>
					<td>
						<div th:class="${produto.situacao}" ></div>
					</td>
				</tr>
			</table>

		</div>
	</div>
</body>
<div layout:fragment="custom-script">
	<script type="text/javascript" th:src="@{/bootstrap/js/bootstrap-notify.js}"></script>

	<script th:inline="javascript" th:if="${mensagem}" >
		message = [[${mensagem}]];
		$.notify({
			message: message 
		},{
			type: 'success'
		});
	</script>
</div>
</html>